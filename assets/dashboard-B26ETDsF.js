import{w as Q,a as r,p as e}from"./chunk-C37GKA54-BZRK238W.js";import{u as R,d as X,t as Z,e as ee,f as te,g as se,h as ae,c as T,i as re,b as ne}from"./auth-BfsdQAL_.js";import{u as oe}from"./use-toast-DL2WLO4o.js";import{a as k,F as c,C as A,G as ie,T as ce}from"./UtilityComponents-CJkG95XY.js";import{u as le,j as E,B as i,b,e as f,c as F,d as I,C as de,k as W}from"./UIComponents-Cq0XySjA.js";import{A as me,a as xe,b as he}from"./avatar-CuKkUpnS.js";import{T as h}from"./terminal-DVUUgYgt.js";import{c as l}from"./createLucideIcon-BOOYRN6u.js";import{D as B}from"./download-D3Uo_cm9.js";import{C as y}from"./copy-DhX_FDpr.js";import"./index-BcNDFU79.js";import"./index-AFG6_fhj.js";import"./index-C1VSxbVM.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z=l("check",pe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ue=l("chevron-down",ge);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fe=l("chevron-left",be);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],we=l("chevron-right",je);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],C=l("crown",Ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ye=l("log-out",ve);function Fe({}){return[{title:"Dashboard - Web to MCP"},{name:"description",content:"Manage your captures and MCP configuration"},{property:"og:title",content:"Dashboard - Web to MCP"},{property:"og:description",content:"Manage your captures and MCP configuration"},{property:"og:image",content:"/og.png"},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{property:"og:image:type",content:"image/png"},{property:"og:type",content:"website"},{property:"og:site_name",content:"Web to MCP"},{property:"og:url",content:"https://web-to-mcp.com/dashboard"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:"Dashboard - Web to MCP"},{name:"twitter:description",content:"Manage your captures and MCP configuration"},{name:"twitter:image",content:"/og.png"}]}function ze(){var U;const{user:t,logout:d}=R();oe();const[o,_]=r.useState(!1),[M,O]=r.useState([]),[G,L]=r.useState(!0),[m,P]=r.useState(1),[p,H]=r.useState(1),[g,D]=r.useState(null),[x,u]=r.useState(!1),{scrollY:$}=le();E($,[0,800],[0,-80]),E($,[0,800],[0,-40]);const j=!!((t==null?void 0:t.subscription_status)==="active"||(t==null?void 0:t.subscription_tier)==="pro"||(t==null?void 0:t.subscription_tier)==="premium"||t!=null&&t.subscription_status||t!=null&&t.subscription_tier);r.useEffect(()=>{const s=a=>{const n=a.target;if(!n||!(n instanceof Element)){u(!1);return}n.closest(".user-dropdown")||u(!1)};return x&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[x]);const q=async(s=1)=>{try{L(!0);const a=await te.get(`/api/captures/list/?page=${s}`,{withCredentials:!0});O(a.data.results),H(Math.ceil(a.data.count/10))}catch(a){console.error("Failed to fetch captures:",a),se("/api/captures/list/",a instanceof Error?a.message:"Unknown error")}finally{L(!1)}};r.useEffect(()=>{X(),Z("Dashboard",window.location.href),q(m)},[m]);const S=async()=>{if(!o){_(!0);try{ae(),T("logout_button","dashboard"),await d(),window.location.href="/"}catch(s){console.error("Logout failed:",s),window.location.href="/"}finally{_(!1)}}},w=async(s,a)=>{try{if(await navigator.clipboard.writeText(s),D(a),setTimeout(()=>D(null),2e3),a.includes("capture"))re(a);else if(a.includes("mcp")){const n=a.includes("cursor")?"cursor":"claude";ne(n)}T("copy_button",a)}catch(n){console.error("Failed to copy to clipboard:",n)}},N=()=>(t==null?void 0:t.mcp_url)||"",V=()=>`"web-to-mcp": {
  "url": "${N()}"
}`,Y=()=>`claude mcp add --transport http web-to-mcp ${N()}`,J=s=>`Use the web-to-mcp tool with reference ${s} to implement the fetched website component.`,v=({text:s,buttonType:a,label:n})=>e.jsxs("button",{onClick:()=>w(s,a),className:`
        flex-1 flex items-center justify-center gap-1 px-3 py-2 text-sm border rounded
        transition-all duration-200 hover:scale-105
        border-emerald-500/40 text-emerald-400 hover:border-emerald-500/60 hover:bg-emerald-500/10 cursor-pointer
        ${g===a?"bg-emerald-500/20 border-emerald-500/80":""}
      `,children:[g===a?e.jsx(z,{className:"w-4 h-4"}):e.jsx(y,{className:"w-4 h-4"}),n]}),K=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(k,{}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-zinc-900/60 backdrop-blur supports-[backdrop-filter]:bg-zinc-950/60",children:e.jsxs(A,{className:"flex h-16 items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("a",{href:"/",className:"relative flex items-center gap-2 group",children:[e.jsx("img",{src:"/favicon.ico",alt:"WebToMCP Logo",className:"w-8 h-8 sm:w-9 sm:h-9 transition-transform group-hover:scale-105"}),e.jsx("span",{className:"font-bold text-lg sm:text-xl leading-none",children:e.jsx(ie,{children:"WebToMCP"})})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[j&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/40 rounded-full",children:[e.jsx(C,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-xs font-semibold",children:"PRO"})]}),j?e.jsxs("div",{className:"relative user-dropdown",children:[e.jsxs("button",{onClick:()=>u(!x),className:"flex items-center gap-3 p-2 border border-zinc-800 rounded-lg hover:bg-zinc-800/50 transition-colors",children:[e.jsxs(me,{className:"w-10 h-10",children:[e.jsx(xe,{src:t==null?void 0:t.profile_picture}),e.jsx(he,{className:"text-sm bg-zinc-800 text-zinc-300",children:t!=null&&t.full_name?t.full_name.split(" ").map(s=>s[0]).join(""):"U"})]}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-sm text-zinc-100 font-medium",children:t==null?void 0:t.full_name}),e.jsx("p",{className:"text-xs text-zinc-400",children:t==null?void 0:t.email})]}),e.jsx(ue,{className:`w-4 h-4 text-zinc-400 transition-transform ${x?"rotate-180":""}`})]}),x&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-900 border border-zinc-800 rounded-lg shadow-lg z-50",children:e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:()=>{u(!1),S()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-zinc-800 transition-colors",children:[e.jsx(ye,{className:"w-4 h-4"}),"Logout"]})})})]}):e.jsx(i,{variant:"outline",onClick:S,disabled:o,className:"border-zinc-800 bg-zinc-900 text-zinc-200 hover:bg-zinc-800",children:o?"Logging out...":"Logout"})]})]})}),e.jsxs(A,{className:"py-16 md:py-24",children:[e.jsx(c,{children:e.jsxs("div",{className:"mx-auto mb-16 max-w-3xl text-center",children:[e.jsxs(ce,{children:[e.jsx(h,{className:"h-4 w-4 text-emerald-400 mr-2"}),"Dashboard"]}),e.jsxs("h1",{className:"mt-3 text-3xl md:text-4xl font-semibold bg-gradient-to-r from-zinc-100 to-zinc-300 bg-clip-text text-transparent",children:["Welcome back,"," ",e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-emerald-300 bg-clip-text text-transparent",children:((U=t==null?void 0:t.full_name)==null?void 0:U.split(" ")[0])||"Developer"})]}),e.jsx("p",{className:"mt-4 text-zinc-400 text-lg leading-relaxed",children:"Manage your captures, configure MCP connections, and streamline your development workflow."})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[!j&&e.jsx(c,{children:e.jsx(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 border border-yellow-500 rounded-xl flex items-center justify-center group-hover:bg-yellow-500/30 group-hover:border-yellow-400 transition-all duration-300",children:e.jsx(C,{className:"w-6 h-6 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Unlock Premium Features"}),e.jsx("p",{className:"text-zinc-400",children:"Get unlimited captures for your development workflow"})]})]}),e.jsxs(i,{onClick:()=>window.location.href="/upgrade",className:"bg-yellow-500 hover:bg-yellow-400 text-zinc-900 font-semibold",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})]})})})}),e.jsx(c,{delay:.1,children:e.jsx(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 border border-emerald-500 rounded-xl flex items-center justify-center group-hover:bg-emerald-500/30 group-hover:border-emerald-400 transition-all duration-300 shrink-0",children:e.jsx(B,{className:"w-6 h-6 text-emerald-400 shrink-0"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Web to MCP Browser Extension"}),e.jsx("p",{className:"text-zinc-400",children:"Capture any website component and send it directly to your AI coding assistant"})]})]}),e.jsxs(i,{onClick:()=>{ee("extension_chrome_store","https://chrome.google.com/webstore"),window.open("https://chrome.google.com/webstore","_blank")},className:"bg-emerald-500 hover:bg-emerald-400 text-zinc-900 font-semibold",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Add to Chrome"]})]})})})}),e.jsx(c,{delay:.2,children:e.jsxs(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:[e.jsxs(F,{children:[e.jsxs(I,{className:"flex items-center gap-2 text-zinc-100",children:[e.jsx(de,{className:"w-5 h-5 text-sky-400"}),"MCP Configuration"]}),e.jsx(W,{className:"text-zinc-400",children:"Copy these configurations to connect your AI tools"})]}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx(v,{text:N(),buttonType:"mcp-url",label:"MCP URL"}),e.jsx(v,{text:V(),buttonType:"cursor-config",label:"Cursor Config"}),e.jsx(v,{text:Y(),buttonType:"claude-command",label:"Claude Command"})]})})]})}),e.jsx(c,{delay:.3,children:e.jsxs(b,{className:"border-zinc-800 bg-zinc-900/40 hover:bg-zinc-900/60 transition-all duration-300 hover:border-zinc-700/70 hover:-translate-y-1",children:[e.jsxs(F,{children:[e.jsxs(I,{className:"flex items-center gap-2 text-zinc-100",children:[e.jsx(h,{className:"w-5 h-5 text-fuchsia-400"}),"Recent Captures"]}),e.jsx(W,{className:"text-zinc-400",children:"Captures are retained for 1 week only"})]}),e.jsx(f,{children:G?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(h,{className:"w-8 h-8 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-sm text-zinc-400",children:"Loading captures..."})]})}):M.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-zinc-400",children:"No captures found"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:"Start capturing components using the browser extension"})]}):e.jsxs("div",{className:"space-y-4",children:[M.map(s=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 border border-zinc-800 rounded-lg bg-zinc-800/30 hover:bg-zinc-800/50 transition-colors gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-zinc-100 font-medium",children:["Capture ",s.slug.slice(0,8),"..."]}),e.jsx("p",{className:"text-sm text-zinc-400 break-all",children:e.jsx("a",{href:s.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-400 hover:text-emerald-300 underline hover:no-underline transition-colors",children:s.website_url})}),e.jsxs("p",{className:"text-xs text-zinc-500",children:[K(s.created_at)," • ",s.token_count.toLocaleString()," tokens"]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>w(s.slug,`ref-${s.slug}`),className:"text-xs border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:g===`ref-${s.slug}`?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"ID"]})}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>w(J(s.slug),`prompt-${s.slug}`),className:"text-xs border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:g===`prompt-${s.slug}`?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Prompt"]})})]})]},s.slug)),p>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>P(s=>Math.max(1,s-1)),disabled:m===1,className:"border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:e.jsx(fe,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs sm:text-sm text-zinc-400 px-2 sm:px-3",children:["Page ",m," of ",p]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>P(s=>Math.min(p,s+1)),disabled:m===p,className:"border-zinc-700 bg-zinc-800 text-zinc-300 hover:bg-zinc-700",children:e.jsx(we,{className:"w-4 h-4"})})]})]})})]})})]})]})]})]})}const Ie=Q(function(){const{isAuthenticated:d,isLoading:o}=R();return r.useEffect(()=>{!o&&!d&&(window.location.href="/")},[d,o]),o?e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(k,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx(c,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(h,{className:"w-12 h-12 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-zinc-400",children:"Loading dashboard..."})]})})})]}):d?e.jsx(ze,{}):e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 antialiased relative overflow-hidden",children:[e.jsx(k,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:e.jsx(c,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(h,{className:"w-12 h-12 text-emerald-400 animate-pulse mx-auto"}),e.jsx("p",{className:"text-zinc-400",children:"Redirecting to home..."})]})})})]})});export{Ie as default,Fe as meta};
